(function(a){a.fn.viewportChecker=function(b){var e={classToAdd:"visible",classToRemove:"hidden",offset:100,repeat:false,invertBottomOffset:true,callbackFunction:function(g,h){},scrollHorizontal:false};a.extend(e,b);var c=this,d={height:a(window).height(),width:a(window).width()},f=((navigator.userAgent.toLowerCase().indexOf("webkit")!=-1)?"body":"html");this.checkElements=function(){var h,g;if(!e.scrollHorizontal){h=a(f).scrollTop();g=(h+d.height)}else{h=a(f).scrollLeft();g=(h+d.width)}c.each(function(){var m=a(this),j={},l={};a.extend(j,e);a.extend(j,l);if(m.hasClass(j.classToAdd)&&!j.repeat){return}var k=(!j.scrollHorizontal)?Math.round(m.offset().top)+j.offset:Math.round(m.offset().left)+j.offset,i=(!j.scrollHorizontal)?k+m.height():k+m.width();if(j.invertBottomOffset){i-=(j.offset*2)}if((k<g)&&(i>h)){m.removeClass(j.classToRemove);m.addClass(j.classToAdd);j.callbackFunction(m,"add")}else{if(m.hasClass(j.classToAdd)&&(j.repeat)){m.removeClass(j.classToAdd);j.callbackFunction(m,"remove")}}})};a(window).bind("load scroll touchmove MSPointerMove",this.checkElements);a(window).resize(function(g){d={height:a(window).height(),width:a(window).width()},c.checkElements()});this.checkElements();return this}})(jQuery);